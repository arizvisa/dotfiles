#!/bin/sh
path=$*
shift

[ -z "$path" ] && path=`pwd`
path=`type -P realpath >/dev/null && realpath -s -m "$path" || readlink -f "$path"`

[ ! -d "$path" ] && exit 1

case "$platform" in
    cygwin|msys) echo "$path" | xargs cygpath -u -- ;;
    *) echo "$path" ;;
esac

if [ "$#" -gt 0 ]; then
    $0 "$@" || exit 1
fi
