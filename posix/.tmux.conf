## key bindings based on
## $Id: screen-keys.conf,v 1.7 2010-07-31 11:39:13 nicm Exp $

# Set the activation prefix to ^A.
unbind C-b
set -g prefix ^A
bind a send-prefix

## default commands
#kill-session
#new-session -s default
#attach-session -t default

## pane management ;)
unbind q
unbind @
unbind %
bind q break-pane

## taken from http://superuser.com/a/384808
bind @ command-prompt -p "create horizontal pane from window id:"  "join-pane -v -s ':%%'"
bind % command-prompt -p "create vertical pane from window id:"  "join-pane -h -s ':%%'"
bind Q display-panes
bind q break-pane -d

## global options
set-option -g remain-on-exit off
set-option -g mode-keys vi
set-option -g status-keys vi
set-option -g visual-activity on
#set-option -g visual-content on
set-option -g visual-silence on

set-option -g bell-action any
set-option -g status on
set-option -g status-interval 5
#set-option -g status-left
#set-option -g status-right

## window options
#set-window-option -g allow-rename off
#set-window-option -g clock-mode-colour
set-window-option -g clock-mode-style 24
#set-window-option -g mode-fg
#set-window-option -g mode-bg
#set-window-option -g

## colors ripped from https://raw.github.com/seebi/tmux-colors-solarized/master/tmuxcolors.conf
set-option -g default-terminal screen-256color

set-option -g status-bg colour235 #base02
set-option -g status-fg colour136 #yellow
set-option -g status-attr default

set-window-option -g window-status-fg colour244
set-window-option -g window-status-bg default
set-window-option -g window-status-attr dim
set-window-option -g window-status-current-fg colour166 #orange
set-window-option -g window-status-current-bg default
set-window-option -g window-status-current-attr bright

set-option -g pane-border-fg colour235 #base02
set-option -g pane-active-border-fg colour240 #base01
set-option -g message-bg colour235 #base02
set-option -g message-fg colour166 #orange
set-option -g display-panes-active-colour colour33 #blue
set-option -g display-panes-colour colour166 #orange

# clock
set-window-option -g clock-mode-colour colour64 #green

# Bind appropriate commands similar to screen.
# lockscreen -- ^X x
bind ^X lock-server
bind x lock-server

# create window -- ^C c
bind ^C new-window
bind c new-window

# detach -- ^D d
bind ^D detach

# balance out the layout
bind = select-layout tiled

# session list
bind 'U' choose-session -F '#{session_name}: #{t:session_created} : #{pid}@#{host}(#{session_windows}#{?session_alerts,!,}) : #{window_name}(#{pane_index}) : pid(#{pane_pid}) : #{pane_current_path} -> #{pane_current_command}'

# list all panes -- *
bind '*' list-panes -aF '#{?window_active,>, }#{window_index}(#{window_panes}) : ###{pane_index} #{?pane_active,*, }#{pane_tty} : pid(#{pane_pid}) : #{pane_current_path} -> #{pane_current_command}'

# windowlist -- "
bind '"' choose-window -F '#{window_index}#{?window_active,>, } #{pane_tty} #{pane_index}(#{window_panes}): #{window_name}#{window_flags} : pid(#{pane_pid}) : #{pane_current_path} -> #{pane_current_command}'

# next window -- ^@ ^N n
bind ^@ next-window
bind ^N next-window
bind n next-window

# title -- A
bind A command-prompt "rename-window -- %%"

# last -- ^A
bind ^A last-window

# previous window -- ^H ^P p ^?
bind ^H previous-window
bind ^P previous-window
bind p previous-window
bind BSpace previous-window

# display windows -- ^W w
bind ^W list-windows
bind w list-windows

# quit -- \
bind '\' confirm-before "kill-server"

# kill window -- K k
bind K confirm-before "kill-window"
bind k confirm-before "kill-window"

# redisplay -- ^L l
bind ^L refresh-client
bind l refresh-client

# split -- S
bind s split-window -v
bind S split-window -v

# vsplit -- | v
bind | split-window -h
bind v split-window -h

# change focus -- ^I <S-Tab>
bind Tab select-pane -t:.+
bind BTab select-pane -t:.-

# monitor activity -- M
bind M set-window-option monitor-activity

# monitor silence -- _
bind _ set-window-option monitor-silence 10
bind C-_ set-window-option monitor-silence 0

